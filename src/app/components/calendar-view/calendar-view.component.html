<div class="calendar-container">
  <div class="calendar-header">
    <button class="back-btn" (click)="navigateToDashboard()">
      <span class="back-icon">â†</span>
    </button>
    <h1>Calendar</h1>
  </div>

  <div class="calendar-content">
    <div class="month-navigation">
      <button class="month-nav-btn" (click)="navigateMonth(-1)">
        <span class="month-nav-icon">â—€</span>
      </button>
      <h2 class="current-month">{{currentMonth}}</h2>
      <button class="month-nav-btn" (click)="navigateMonth(1)">
        <span class="month-nav-icon">â–¶</span>
      </button>
    </div>

    <div class="weekday-header">
      <div class="weekday" *ngFor="let day of weekDays">{{day}}</div>
    </div>
    
    <!-- Loading indicator -->
    <div *ngIf="isLoading" class="loading-container">
      <mat-spinner diameter="40"></mat-spinner>
    </div>
    
    <!-- Error message -->
    <div *ngIf="errorMessage" class="error-message">
      {{errorMessage}}
    </div>
    
    <!-- Calendar grid -->
    <div *ngIf="!isLoading" class="month-grid">
      <div *ngFor="let day of monthDays" 
           class="month-day" 
           [ngClass]="{
             'active': day.active, 
             'selected': day.selected, 
             'empty': day.day === null,
             'period': day.isPeriod,
             'fertile': day.isFertile,
             'ovulation': day.isOvulation
           }"
           (click)="selectDate(day.day)">
        <span *ngIf="day.day !== null">{{day.day}}</span>
      </div>
    </div>

    <div class="legend">
      <div class="legend-item">
        <div class="legend-circle period"></div>
        <div class="legend-text">Period Days</div>
      </div>
      <div class="legend-item">
        <div class="legend-circle fertile"></div>
        <div class="legend-text">Fertile Window</div>
      </div>
      <div class="legend-item">
        <div class="legend-circle ovulation"></div>
        <div class="legend-text">Ovulation Day</div>
      </div>
    </div>
  </div>
  
  <div class="bottom-nav">
    <div class="nav-item home-btn" (click)="navigateToDashboard()">
      <div class="nav-icon">ğŸ </div>
    </div>
    <div class="nav-item add-btn" (click)="openCycleForm()">
      <div class="nav-icon">+</div>
    </div>
    <div class="nav-item profile-btn" (click)="navigateToProfile()">
      <div class="nav-icon">ğŸ‘¤</div>
    </div>
  </div>
</div>